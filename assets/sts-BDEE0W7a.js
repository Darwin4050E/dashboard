import{$ as e,G as t,H as n,J as r,K as i,Q as a,S as o,T as s,U as c,_ as ee,at as te,b as ne,c as re,dt as ie,et as ae,f as oe,g as l,h as se,it as ce,nt as le,q as ue,r as de,rt as fe,s as pe,tt as me,ut as he,w as ge,x as _e,y as ve,yt as u}from"./index-CISaZRAx.js";import{$ as ye,A as be,B as xe,C as Se,D as Ce,E as we,F as Te,G as Ee,H as De,I as Oe,J as ke,K as Ae,L as je,M as Me,O as Ne,P as Pe,Q as Fe,R as Ie,S as Le,T as Re,U as ze,V as Be,W as Ve,X as He,Y as Ue,Z as We,_ as Ge,a as Ke,b as qe,c as Je,d as Ye,et as Xe,f as Ze,g as Qe,h as $e,i as et,j as tt,k as nt,l as rt,m as it,n as at,o as ot,p as st,q as ct,r as lt,s as ut,t as dt,tt as ft,u as pt,v as mt,w as ht,x as gt,y as _t,z as vt}from"./dist-es-Dtq_vcl3.js";function yt(e){return{schemeId:`aws.auth#sigv4`,signingProperties:{name:`sts`,region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function bt(e){return{schemeId:`smithy.api#noAuth`}}var xt,St,Ct,wt,Tt=u((()=>{be(),i(),z(),xt=async(e,t,n)=>({operation:r(t).operation,region:await ue(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),St=e=>{let t=[];switch(e.operation){case`AssumeRoleWithWebIdentity`:t.push(bt(e));break;default:t.push(yt(e))}return t},Ct=e=>Object.assign(e,{stsClientCtor:R}),wt=e=>{let t=Oe(Ct(e));return Object.assign(t,{authSchemePreference:ue(e.authSchemePreference??[])})}})),Et,Dt,d=u((()=>{Et=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:`sts`}),Dt={UseGlobalEndpoint:{type:`builtInParams`,name:`useGlobalEndpoint`},UseFIPS:{type:`builtInParams`,name:`useFipsEndpoint`},Endpoint:{type:`builtInParams`,name:`endpoint`},Region:{type:`builtInParams`,name:`region`},UseDualStack:{type:`builtInParams`,name:`useDualstackEndpoint`}}})),Ot,kt,At,jt,Mt,Nt,Pt,Ft,It,Lt,Rt,zt,Bt,Vt,Ht,Ut,Wt,Gt,Kt,qt=u((()=>{Ot=`@aws-sdk/nested-clients`,kt=`3.948.0`,At=`Nested clients for AWS SDK packages.`,jt=`./dist-cjs/index.js`,Mt=`./dist-es/index.js`,Nt=`./dist-types/index.d.ts`,Pt={build:`yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'`,"build:cjs":`node ../../scripts/compilation/inline nested-clients`,"build:es":`tsc -p tsconfig.es.json`,"build:include:deps":`lerna run --scope $npm_package_name --include-dependencies build`,"build:types":`tsc -p tsconfig.types.json`,"build:types:downlevel":`downlevel-dts dist-types dist-types/ts3.4`,clean:`rimraf ./dist-* && rimraf *.tsbuildinfo`,lint:`node ../../scripts/validation/submodules-linter.js --pkg nested-clients`,test:`yarn g:vitest run`,"test:watch":`yarn g:vitest watch`},Ft={node:`>=18.0.0`},It={name:`AWS SDK for JavaScript Team`,url:`https://aws.amazon.com/javascript/`},Lt=`Apache-2.0`,Rt={"@aws-crypto/sha256-browser":`5.2.0`,"@aws-crypto/sha256-js":`5.2.0`,"@aws-sdk/core":`3.947.0`,"@aws-sdk/middleware-host-header":`3.936.0`,"@aws-sdk/middleware-logger":`3.936.0`,"@aws-sdk/middleware-recursion-detection":`3.948.0`,"@aws-sdk/middleware-user-agent":`3.947.0`,"@aws-sdk/region-config-resolver":`3.936.0`,"@aws-sdk/types":`3.936.0`,"@aws-sdk/util-endpoints":`3.936.0`,"@aws-sdk/util-user-agent-browser":`3.936.0`,"@aws-sdk/util-user-agent-node":`3.947.0`,"@smithy/config-resolver":`^4.4.3`,"@smithy/core":`^3.18.7`,"@smithy/fetch-http-handler":`^5.3.6`,"@smithy/hash-node":`^4.2.5`,"@smithy/invalid-dependency":`^4.2.5`,"@smithy/middleware-content-length":`^4.2.5`,"@smithy/middleware-endpoint":`^4.3.14`,"@smithy/middleware-retry":`^4.4.14`,"@smithy/middleware-serde":`^4.2.6`,"@smithy/middleware-stack":`^4.2.5`,"@smithy/node-config-provider":`^4.3.5`,"@smithy/node-http-handler":`^4.4.5`,"@smithy/protocol-http":`^5.3.5`,"@smithy/smithy-client":`^4.9.10`,"@smithy/types":`^4.9.0`,"@smithy/url-parser":`^4.2.5`,"@smithy/util-base64":`^4.3.0`,"@smithy/util-body-length-browser":`^4.2.0`,"@smithy/util-body-length-node":`^4.2.1`,"@smithy/util-defaults-mode-browser":`^4.3.13`,"@smithy/util-defaults-mode-node":`^4.2.16`,"@smithy/util-endpoints":`^3.2.5`,"@smithy/util-middleware":`^4.2.5`,"@smithy/util-retry":`^4.2.5`,"@smithy/util-utf8":`^4.2.0`,tslib:`^2.6.2`},zt={concurrently:`7.0.0`,"downlevel-dts":`0.10.1`,rimraf:`3.0.2`,typescript:`~5.8.3`},Bt={"<4.0":{"dist-types/*":[`dist-types/ts3.4/*`]}},Vt=[`./signin.d.ts`,`./signin.js`,`./sso-oidc.d.ts`,`./sso-oidc.js`,`./sts.d.ts`,`./sts.js`,`dist-*/**`],Ht={"./dist-es/submodules/signin/runtimeConfig":`./dist-es/submodules/signin/runtimeConfig.browser`,"./dist-es/submodules/sso-oidc/runtimeConfig":`./dist-es/submodules/sso-oidc/runtimeConfig.browser`,"./dist-es/submodules/sts/runtimeConfig":`./dist-es/submodules/sts/runtimeConfig.browser`},Ut=`https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients`,Wt={type:`git`,url:`https://github.com/aws/aws-sdk-js-v3.git`,directory:`packages/nested-clients`},Gt={"./package.json":`./package.json`,"./sso-oidc":{types:`./dist-types/submodules/sso-oidc/index.d.ts`,module:`./dist-es/submodules/sso-oidc/index.js`,node:`./dist-cjs/submodules/sso-oidc/index.js`,import:`./dist-es/submodules/sso-oidc/index.js`,require:`./dist-cjs/submodules/sso-oidc/index.js`},"./sts":{types:`./dist-types/submodules/sts/index.d.ts`,module:`./dist-es/submodules/sts/index.js`,node:`./dist-cjs/submodules/sts/index.js`,import:`./dist-es/submodules/sts/index.js`,require:`./dist-cjs/submodules/sts/index.js`},"./signin":{types:`./dist-types/submodules/signin/index.d.ts`,module:`./dist-es/submodules/signin/index.js`,node:`./dist-cjs/submodules/signin/index.js`,import:`./dist-es/submodules/signin/index.js`,require:`./dist-cjs/submodules/signin/index.js`}},Kt={name:Ot,version:kt,description:At,main:jt,module:Mt,types:Nt,scripts:Pt,engines:Ft,sideEffects:!1,author:It,license:Lt,dependencies:Rt,devDependencies:zt,typesVersions:Bt,files:Vt,browser:Ht,"react-native":{},homepage:Ut,repository:Wt,exports:Gt}})),Jt,Yt=u((()=>{Jt=e=>new TextEncoder().encode(e)})),Xt=u((()=>{})),Zt,Qt=u((()=>{Zt=e=>{if(typeof e==`string`)return e;if(typeof e!=`object`||typeof e.byteOffset!=`number`||typeof e.byteLength!=`number`)throw Error(`@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.`);return new TextDecoder(`utf-8`).decode(e)}})),$t=u((()=>{Yt(),Xt(),Qt()})),en,f,p,m,h,g,_,v,y,tn,nn,b,x,rn,S,C,w,T,E,an,on,D,sn,cn,ln,O,k,un,A,j,M,N,P,F,I,L,dn,fn,pn=u((()=>{en=`required`,f=`type`,p=`fn`,m=`argv`,h=`ref`,g=!1,_=!0,v=`booleanEquals`,y=`stringEquals`,tn=`sigv4`,nn=`sts`,b=`us-east-1`,x=`endpoint`,rn=`https://sts.{Region}.{PartitionResult#dnsSuffix}`,S=`tree`,C=`error`,w=`getAttr`,T={[en]:!1,[f]:`string`},E={[en]:!0,default:!1,[f]:`boolean`},an={[h]:`Endpoint`},on={[p]:`isSet`,[m]:[{[h]:`Region`}]},D={[h]:`Region`},sn={[p]:`aws.partition`,[m]:[D],assign:`PartitionResult`},cn={[h]:`UseFIPS`},ln={[h]:`UseDualStack`},O={url:`https://sts.amazonaws.com`,properties:{authSchemes:[{name:tn,signingName:nn,signingRegion:b}]},headers:{}},k={},un={conditions:[{[p]:y,[m]:[D,`aws-global`]}],[x]:O,[f]:x},A={[p]:v,[m]:[cn,!0]},j={[p]:v,[m]:[ln,!0]},M={[p]:w,[m]:[{[h]:`PartitionResult`},`supportsFIPS`]},N={[h]:`PartitionResult`},P={[p]:v,[m]:[!0,{[p]:w,[m]:[N,`supportsDualStack`]}]},F=[{[p]:`isSet`,[m]:[an]}],I=[A],L=[j],dn={version:`1.0`,parameters:{Region:T,UseDualStack:E,UseFIPS:E,Endpoint:T,UseGlobalEndpoint:E},rules:[{conditions:[{[p]:v,[m]:[{[h]:`UseGlobalEndpoint`},_]},{[p]:`not`,[m]:F},on,sn,{[p]:v,[m]:[cn,g]},{[p]:v,[m]:[ln,g]}],rules:[{conditions:[{[p]:y,[m]:[D,`ap-northeast-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`ap-south-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`ap-southeast-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`ap-southeast-2`]}],endpoint:O,[f]:x},un,{conditions:[{[p]:y,[m]:[D,`ca-central-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`eu-central-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`eu-north-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`eu-west-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`eu-west-2`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`eu-west-3`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`sa-east-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,b]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`us-east-2`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`us-west-1`]}],endpoint:O,[f]:x},{conditions:[{[p]:y,[m]:[D,`us-west-2`]}],endpoint:O,[f]:x},{endpoint:{url:rn,properties:{authSchemes:[{name:tn,signingName:nn,signingRegion:`{Region}`}]},headers:k},[f]:x}],[f]:S},{conditions:F,rules:[{conditions:I,error:`Invalid Configuration: FIPS and custom endpoint are not supported`,[f]:C},{conditions:L,error:`Invalid Configuration: Dualstack and custom endpoint are not supported`,[f]:C},{endpoint:{url:an,properties:k,headers:k},[f]:x}],[f]:S},{conditions:[on],rules:[{conditions:[sn],rules:[{conditions:[A,j],rules:[{conditions:[{[p]:v,[m]:[_,M]},P],rules:[{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:k,headers:k},[f]:x}],[f]:S},{error:`FIPS and DualStack are enabled, but this partition does not support one or both`,[f]:C}],[f]:S},{conditions:I,rules:[{conditions:[{[p]:v,[m]:[M,_]}],rules:[{conditions:[{[p]:y,[m]:[{[p]:w,[m]:[N,`name`]},`aws-us-gov`]}],endpoint:{url:`https://sts.{Region}.amazonaws.com`,properties:k,headers:k},[f]:x},{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dnsSuffix}`,properties:k,headers:k},[f]:x}],[f]:S},{error:`FIPS is enabled but this partition does not support FIPS`,[f]:C}],[f]:S},{conditions:L,rules:[{conditions:[P],rules:[{endpoint:{url:`https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:k,headers:k},[f]:x}],[f]:S},{error:`DualStack is enabled but this partition does not support DualStack`,[f]:C}],[f]:S},un,{endpoint:{url:rn,properties:k,headers:k},[f]:x}],[f]:S}],[f]:S},{error:`Invalid Configuration: Missing Region`,[f]:C}]},fn=dn})),mn,hn,gn=u((()=>{xe(),Ve(),pn(),mn=new ct({size:50,params:[`Endpoint`,`Region`,`UseDualStack`,`UseFIPS`,`UseGlobalEndpoint`]}),hn=(e,t={})=>mn.get(e,()=>Ee(fn,{endpointParams:e,logger:t.logger})),Ae.aws=ze})),_n,vn=u((()=>{be(),tt(),de(),l(),Be(),me(),$t(),Tt(),gn(),_n=e=>({apiVersion:`2011-06-15`,base64Decoder:e?.base64Decoder??fe,base64Encoder:e?.base64Encoder??le,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??St,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:`aws.auth#sigv4`,identityProvider:e=>e.getIdentityProvider(`aws.auth#sigv4`),signer:new je},{schemeId:`smithy.api#noAuth`,identityProvider:e=>e.getIdentityProvider(`smithy.api#noAuth`)||(async()=>({})),signer:new pe}],logger:e?.logger??new ee,protocol:e?.protocol??new Me({defaultNamespace:`com.amazonaws.sts`,xmlNamespace:`https://sts.amazonaws.com/doc/2011-06-15/`,version:`2011-06-15`}),serviceId:e?.serviceId??`STS`,urlParser:e?.urlParser??De,utf8Decoder:e?.utf8Decoder??Jt,utf8Encoder:e?.utf8Encoder??Zt})})),yn,bn=u((()=>{qt(),Ye(),pt(),ht(),e(),ut(),l(),Pe(),Ke(),Qe(),vn(),yn=e=>{let t=ot(e),n=()=>t().then(_e),r=_n(e);return{...r,...e,runtime:`browser`,defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Te,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(Error(`Credential is missing`))),defaultUserAgentProvider:e?.defaultUserAgentProvider??rt({serviceId:r.serviceId,clientVersion:Kt.version}),maxAttempts:e?.maxAttempts??3,region:e?.region??Je(`Region is missing`),requestHandler:ce.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||mt),sha256:e?.sha256??Ze,streamCollector:e?.streamCollector??ae,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}}})),xn,Sn,Cn=u((()=>{xn=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);n===-1?t.push(e):t.splice(n,1,e)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider(){return n},setCredentials(e){r=e},credentials(){return r}}},Sn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})})),wn,Tn=u((()=>{dt(),te(),l(),Cn(),wn=(e,t)=>{let n=Object.assign(lt(e),ve(e),he(e),xn(e));return t.forEach(e=>e.configure(n)),Object.assign(e,et(n),ne(n),ie(n),Sn(n))}})),R,z=u((()=>{Xe(),We(),Ue(),Ne(),ht(),de(),n(),Se(),_t(),st(),l(),Tt(),d(),bn(),Tn(),R=class extends a{config;constructor(...[e]){let n=yn(e||{});super(n),this.initConfig=n,this.config=wn(wt(qe(ft(Re($e(ke(Et(n))))))),e?.extensions||[]),this.middlewareStack.use(t(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(it(this.config)),this.middlewareStack.use(Le(this.config)),this.middlewareStack.use(ye(this.config)),this.middlewareStack.use(Fe(this.config)),this.middlewareStack.use(He(this.config)),this.middlewareStack.use(se(this.config,{httpAuthSchemeParametersProvider:xt,identityProviderConfigProvider:async e=>new re({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use(oe(this.config))}destroy(){super.destroy()}}})),B,En=u((()=>{l(),B=class e extends o{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}})),V,H,U,Dn,On,kn,An,jn=u((()=>{En(),V=class e extends B{name=`ExpiredTokenException`;$fault=`client`;constructor(t){super({name:`ExpiredTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},H=class e extends B{name=`MalformedPolicyDocumentException`;$fault=`client`;constructor(t){super({name:`MalformedPolicyDocumentException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},U=class e extends B{name=`PackedPolicyTooLargeException`;$fault=`client`;constructor(t){super({name:`PackedPolicyTooLargeException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},Dn=class e extends B{name=`RegionDisabledException`;$fault=`client`;constructor(t){super({name:`RegionDisabledException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},On=class e extends B{name=`IDPRejectedClaimException`;$fault=`client`;constructor(t){super({name:`IDPRejectedClaimException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},kn=class e extends B{name=`InvalidIdentityTokenException`;$fault=`client`;constructor(t){super({name:`InvalidIdentityTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},An=class e extends B{name=`IDPCommunicationErrorException`;$fault=`client`;constructor(t){super({name:`IDPCommunicationErrorException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}}})),Mn,Nn,Pn,Fn,In,Ln,W,Rn,zn,Bn,Vn,G,Hn,Un,Wn,Gn,Kn,qn,Jn,Yn,Xn,Zn,Qn,$n,er,tr,nr,rr,ir,ar,or,sr,cr,lr,ur,dr,fr,pr,K,mr,hr,gr,_r,vr,yr,br,xr,Sr,Cr,q,J,wr,Y,X,Z,Tr,Er,Dr,Q,Or,kr,Ar,jr,Mr,Nr,Pr,Fr,Ir,Lr,Rr,zr,Br,Vr,Hr,Ur,Wr,Gr,Kr,qr,Jr,Yr,Xr,Zr,Qr=u((()=>{n(),jn(),En(),Mn=`Arn`,Nn=`AccessKeyId`,Pn=`AssumeRole`,Fn=`AssumedRoleId`,In=`AssumeRoleRequest`,Ln=`AssumeRoleResponse`,W=`AssumedRoleUser`,Rn=`AssumeRoleWithWebIdentity`,zn=`AssumeRoleWithWebIdentityRequest`,Bn=`AssumeRoleWithWebIdentityResponse`,Vn=`Audience`,G=`Credentials`,Hn=`ContextAssertion`,Un=`DurationSeconds`,Wn=`Expiration`,Gn=`ExternalId`,Kn=`ExpiredTokenException`,qn=`IDPCommunicationErrorException`,Jn=`IDPRejectedClaimException`,Yn=`InvalidIdentityTokenException`,Xn=`Key`,Zn=`MalformedPolicyDocumentException`,Qn=`Policy`,$n=`PolicyArns`,er=`ProviderArn`,tr=`ProvidedContexts`,nr=`ProvidedContextsListType`,rr=`ProvidedContext`,ir=`PolicyDescriptorType`,ar=`ProviderId`,or=`PackedPolicySize`,sr=`PackedPolicyTooLargeException`,cr=`Provider`,lr=`RoleArn`,ur=`RegionDisabledException`,dr=`RoleSessionName`,fr=`SecretAccessKey`,pr=`SubjectFromWebIdentityToken`,K=`SourceIdentity`,mr=`SerialNumber`,hr=`SessionToken`,gr=`Tags`,_r=`TokenCode`,vr=`TransitiveTagKeys`,yr=`Tag`,br=`Value`,xr=`WebIdentityToken`,Sr=`arn`,Cr=`accessKeySecretType`,q=`awsQueryError`,J=`client`,wr=`clientTokenType`,Y=`error`,X=`httpError`,Z=`message`,Tr=`policyDescriptorListType`,Er=`smithy.ts.sdk.synthetic.com.amazonaws.sts`,Dr=`tagListType`,Q=`com.amazonaws.sts`,Or=[0,Q,Cr,8,0],kr=[0,Q,wr,8,0],Ar=[3,Q,W,0,[Fn,Mn],[0,0]],jr=[3,Q,In,0,[lr,dr,$n,Qn,Un,gr,vr,Gn,mr,_r,K,tr],[0,0,()=>qr,0,1,()=>Yr,64,0,0,0,0,()=>Jr]],Mr=[3,Q,Ln,0,[G,W,or,K],[[()=>Fr,0],()=>Ar,1,0]],Nr=[3,Q,zn,0,[lr,dr,xr,ar,$n,Qn,Un],[0,0,[()=>kr,0],0,()=>qr,0,1]],Pr=[3,Q,Bn,0,[G,pr,W,or,cr,Vn,K],[[()=>Fr,0],0,()=>Ar,1,0,0,0]],Fr=[3,Q,G,0,[Nn,fr,hr,Wn],[0,[()=>Or,0],0,4]],Ir=[-3,Q,Kn,{[Y]:J,[X]:400,[q]:[`ExpiredTokenException`,400]},[Z],[0]],c.for(Q).registerError(Ir,V),Lr=[-3,Q,qn,{[Y]:J,[X]:400,[q]:[`IDPCommunicationError`,400]},[Z],[0]],c.for(Q).registerError(Lr,An),Rr=[-3,Q,Jn,{[Y]:J,[X]:403,[q]:[`IDPRejectedClaim`,403]},[Z],[0]],c.for(Q).registerError(Rr,On),zr=[-3,Q,Yn,{[Y]:J,[X]:400,[q]:[`InvalidIdentityToken`,400]},[Z],[0]],c.for(Q).registerError(zr,kn),Br=[-3,Q,Zn,{[Y]:J,[X]:400,[q]:[`MalformedPolicyDocument`,400]},[Z],[0]],c.for(Q).registerError(Br,H),Vr=[-3,Q,sr,{[Y]:J,[X]:400,[q]:[`PackedPolicyTooLarge`,400]},[Z],[0]],c.for(Q).registerError(Vr,U),Hr=[3,Q,ir,0,[Sr],[0]],Ur=[3,Q,rr,0,[er,Hn],[0,0]],Wr=[-3,Q,ur,{[Y]:J,[X]:403,[q]:[`RegionDisabledException`,403]},[Z],[0]],c.for(Q).registerError(Wr,Dn),Gr=[3,Q,yr,0,[Xn,br],[0,0]],Kr=[-3,Er,`STSServiceException`,0,[],[]],c.for(Er).registerError(Kr,B),qr=[1,Q,Tr,0,()=>Hr],Jr=[1,Q,nr,0,()=>Ur],Yr=[1,Q,Dr,0,()=>Gr],Xr=[9,Q,Pn,0,()=>jr,()=>Mr],Zr=[9,Q,Rn,0,()=>Nr,()=>Pr]})),$r,ei=u((()=>{_t(),l(),d(),Qr(),$r=class extends s.classBuilder().ep(Dt).m(function(e,t,n,r){return[gt(n,e.getEndpointParameterInstructions())]}).s(`AWSSecurityTokenServiceV20110615`,`AssumeRole`,{}).n(`STSClient`,`AssumeRoleCommand`).sc(Xr).build(){}})),$,ti=u((()=>{_t(),l(),d(),Qr(),$=class extends s.classBuilder().ep(Dt).m(function(e,t,n,r){return[gt(n,e.getEndpointParameterInstructions())]}).s(`AWSSecurityTokenServiceV20110615`,`AssumeRoleWithWebIdentity`,{}).n(`STSClient`,`AssumeRoleWithWebIdentityCommand`).sc(Zr).build(){}})),ni,ri,ii=u((()=>{l(),ei(),ti(),z(),ni={AssumeRoleCommand:$r,AssumeRoleWithWebIdentityCommand:$},ri=class extends R{},ge(ni,ri)})),ai=u((()=>{ei(),ti()})),oi,si,ci,li,ui=u((()=>{Ie(),dt(),ti(),oi=e=>{if(typeof e?.Arn==`string`){let t=e.Arn.split(`:`);if(t.length>4&&t[4]!==``)return t[4]}},si=async(e,t,n,r={})=>{let i=typeof e==`function`?await e():e,a=typeof t==`function`?await t():t,o=await at(r)();return n?.debug?.(`@aws-sdk/client-sts::resolveRegion`,`accepting first of:`,`${i} (credential provider clientConfig)`,`${a} (contextual client)`,`${o} (STS default: AWS_REGION, profile region, or us-east-1)`),i??a??o},ci=(e,t)=>{let n;return async r=>{if(!n){let{logger:r=e?.parentClientConfig?.logger,profile:i=e?.parentClientConfig?.profile,region:a,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:s,userAgentAppId:c=e?.parentClientConfig?.userAgentAppId}=e,ee=await si(a,e?.parentClientConfig?.region,s,{logger:r,profile:i}),te=!li(o);n=new t({...e,userAgentAppId:c,profile:i,region:ee,requestHandler:te?o:void 0,logger:r})}let{Credentials:i,AssumedRoleUser:a}=await n.send(new $(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let o=oi(a),s={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...o&&{accountId:o}};return o&&vt(s,`RESOLVED_ACCOUNT_ID`,`T`),vt(s,`CREDENTIALS_STS_ASSUME_ROLE_WEB_ID`,`k`),s}},li=e=>e?.metadata?.handlerProtocol===`h2`})),di,fi,pi=u((()=>{ui(),z(),di=(e,t)=>t?class extends e{constructor(e){super(e);for(let e of t)this.middlewareStack.use(e)}}:e,fi=(e={},t)=>ci(e,di(R,t))})),mi=u((()=>{z(),ii(),ai(),jn(),pi()}));export{$r as a,On as c,U as d,Dn as f,$ as i,kn as l,R as m,fi as n,V as o,B as p,ri as r,An as s,mi as t,H as u};